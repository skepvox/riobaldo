import{M as j,O as Q,c as C,am as W,b as U,o as f,q as d,U as p,V as i,e as x,v as _,s as k,x as s,P as Y,k as N,w as Z,aS as G,av as J,$ as ee,a0 as te,aj as ae,aT as se,aU as R,aV as ne,z as n,F as D,r as ie,B as le,a8 as V,a7 as H,W as oe,aW as re,aX as ce,as as M,m as ue,aY as de,d as ge,aN as pe,aE as fe,ay as E,aB as me,aC as he,at as ve,az as O,aA as ye,aP as ke,aQ as _e,aD as be,ao as xe,ap as $e,a5 as Ce,aZ as we}from"./DyaYJ4Tw.js";import{_ as Ie,a as Te}from"./DzjAgpBd.js";import{_ as qe,a as Pe}from"./Djav4i_t.js";import{_ as Be}from"./BX_9Wg2W.js";import{_ as Ue}from"./BvVdyprP.js";import"./BN_7HF1G.js";const Ae={slots:{root:"hidden overflow-y-auto lg:block lg:max-h-[calc(100vh-var(--ui-header-height))] lg:sticky lg:top-(--ui-header-height) py-8 lg:ps-4 lg:-ms-4 lg:pe-6.5",container:"relative",top:"sticky -top-8 -mt-8 pointer-events-none z-[1]",topHeader:"h-8 bg-default -mx-4 px-4",topBody:"bg-default relative pointer-events-auto flex flex-col -mx-4 px-4",topFooter:"h-8 bg-gradient-to-b from-default -mx-4 px-4"}},Se={__name:"UPageAside",props:{as:{type:null,required:!1,default:"aside"},class:{type:null,required:!1},ui:{type:null,required:!1}},setup(a){const t=a,e=j(),m=Q(),l=C(()=>W({extend:W(Ae),...m.uiPro?.pageAside||{}})());return(o,u)=>(f(),U(s(Y),{as:a.as,class:i(l.value.root({class:[t.ui?.root,t.class]}))},{default:d(()=>[p("div",{class:i(l.value.container({class:t.ui?.container}))},[e.top?(f(),x("div",{key:0,class:i(l.value.top({class:t.ui?.top}))},[p("div",{class:i(l.value.topHeader({class:t.ui?.topHeader}))},null,2),p("div",{class:i(l.value.topBody({class:t.ui?.topBody}))},[k(o.$slots,"top")],2),p("div",{class:i(l.value.topFooter({class:t.ui?.topFooter}))},null,2)],2)):_("",!0),k(o.$slots,"default"),k(o.$slots,"bottom")],2)]),_:3},8,["as","class"]))}};function ze(){const a=N(),t=N([]),e=N([]);function m(o){o.forEach(u=>{const w=u.target.id;w&&(u.isIntersecting?t.value=[...t.value,w]:t.value=t.value.filter(q=>q!==w))})}function l(o){o.forEach(u=>{a.value&&a.value.observe(u)})}return Z(t,(o,u)=>{o.length===0?e.value=u:e.value=o}),G(()=>a.value=new IntersectionObserver(m)),J(()=>a.value?.disconnect()),{visibleHeadings:t,activeHeadings:e,updateHeadings:l}}const Le={slots:{root:"sticky top-(--ui-header-height) z-10 bg-default/75 lg:bg-[initial] backdrop-blur -mx-4 px-4 sm:px-6 sm:-mx-6 overflow-y-auto max-h-[calc(100vh-var(--ui-header-height))]",container:"pt-4 sm:pt-6 pb-2.5 sm:pb-4.5 lg:py-8 border-b border-dashed border-default lg:border-0 flex flex-col",top:"",bottom:"hidden lg:flex lg:flex-col gap-6",trigger:"group text-sm font-semibold flex-1 flex items-center gap-1.5 py-1.5 -mt-1.5 focus-visible:outline-primary",title:"truncate",trailing:"ms-auto inline-flex gap-1.5 items-center",trailingIcon:"size-5 transform transition-transform duration-200 shrink-0 group-data-[state=open]:rotate-180 lg:hidden",content:"data-[state=open]:animate-[collapsible-down_200ms_ease-out] data-[state=closed]:animate-[collapsible-up_200ms_ease-out] overflow-hidden focus:outline-none",list:"min-w-0",listWithChildren:"ms-3",item:"min-w-0",itemWithChildren:"",link:"group relative text-sm flex items-center focus-visible:outline-primary py-1",linkText:"truncate",indicator:"absolute ms-2.5 transition-[translate,height] duration-200 h-(--indicator-size) translate-y-(--indicator-position) w-px rounded-full"},variants:{color:{primary:"",secondary:"",success:"",info:"",warning:"",error:"",neutral:""},highlightColor:{primary:{indicator:"bg-primary"},secondary:{indicator:"bg-secondary"},success:{indicator:"bg-success"},info:{indicator:"bg-info"},warning:{indicator:"bg-warning"},error:{indicator:"bg-error"},neutral:{indicator:"bg-inverted"}},active:{false:{link:["text-muted hover:text-default","transition-colors"]}},highlight:{true:{list:"ms-2.5 ps-4 border-s border-default",item:"-ms-px"}},body:{true:{bottom:"mt-6"}}},compoundVariants:[{color:"primary",active:!0,class:{link:"text-primary",linkLeadingIcon:"text-primary"}},{color:"secondary",active:!0,class:{link:"text-secondary",linkLeadingIcon:"text-secondary"}},{color:"success",active:!0,class:{link:"text-success",linkLeadingIcon:"text-success"}},{color:"info",active:!0,class:{link:"text-info",linkLeadingIcon:"text-info"}},{color:"warning",active:!0,class:{link:"text-warning",linkLeadingIcon:"text-warning"}},{color:"error",active:!0,class:{link:"text-error",linkLeadingIcon:"text-error"}},{color:"neutral",active:!0,class:{link:"text-highlighted",linkLeadingIcon:"text-highlighted"}}],defaultVariants:{color:"primary",highlightColor:"primary"}},Ne=["href","onClick"],He={__name:"UContentToc",props:{as:{type:null,required:!1,default:"nav"},trailingIcon:{type:String,required:!1},title:{type:String,required:!1},color:{type:null,required:!1},highlight:{type:Boolean,required:!1},highlightColor:{type:null,required:!1},links:{type:Array,required:!1},class:{type:null,required:!1},ui:{type:null,required:!1},defaultOpen:{type:Boolean,required:!1},open:{type:Boolean,required:!1}},emits:["update:open","move"],setup(a,{emit:t}){const e=a,m=t,l=j(),o=ee(te(e,"as","open","defaultOpen"),m),{t:u}=ae(),w=se(),q=Q(),{activeHeadings:I,updateHeadings:P}=ze(),[A,b]=R({props:{links:Array,level:Number}}),[v,S]=R(),r=C(()=>W({extend:W(Le),...q.uiPro?.contentToc||{}})({color:e.color,highlight:e.highlight,highlightColor:e.highlightColor||e.color}));function F(c){const y=encodeURIComponent(c);w.push(`#${y}`),m("move",c)}function z(c){return c.flatMap(y=>[y,...y.children?z(y.children):[]])}const L=C(()=>{if(!I.value?.length)return;const y=z(e.links||[]).findIndex(T=>I.value.includes(T.id)),$=28,h=0;return{"--indicator-size":`${$*I.value.length+h*(I.value.length-1)}px`,"--indicator-position":y>=0?`${y*($+h)}px`:"0px"}}),B=ne();return B.hooks.hook("page:loading:end",()=>{const c=Array.from(document.querySelectorAll("h2, h3"));P(c)}),B.hooks.hook("page:transition:finish",()=>{const c=Array.from(document.querySelectorAll("h2, h3"));P(c)}),(c,y)=>{const $=oe;return f(),x(D,null,[n(s(A),null,{default:d(({links:h,level:T})=>[p("ul",{class:i(T>0?r.value.listWithChildren({class:e.ui?.listWithChildren}):r.value.list({class:e.ui?.list}))},[(f(!0),x(D,null,ie(h,(g,K)=>(f(),x("li",{key:K,class:i(g.children&&g.children.length>0?r.value.itemWithChildren({class:[e.ui?.itemWithChildren,g.ui?.itemWithChildren]}):r.value.item({class:[e.ui?.item,g.ui?.item]}))},[p("a",{href:`#${g.id}`,class:i(r.value.link({class:[e.ui?.link,g.ui?.link,g.class],active:s(I).includes(g.id)})),onClick:le(De=>F(g.id),["prevent"])},[k(c.$slots,"link",{link:g},()=>[p("span",{class:i(r.value.linkText({class:[e.ui?.linkText,g.ui?.linkText]}))},V(g.text),3)])],10,Ne),g.children?.length?(f(),U(s(b),{key:0,links:g.children,level:T+1},null,8,["links","level"])):_("",!0)],2))),128))],2)]),_:3}),n(s(v),null,{default:d(({open:h})=>[k(c.$slots,"leading",{open:h}),p("span",{class:i(r.value.title({class:e.ui?.title}))},[k(c.$slots,"default",{open:h},()=>[H(V(a.title||s(u)("contentToc.title")),1)])],2),p("span",{class:i(r.value.trailing({class:e.ui?.trailing}))},[k(c.$slots,"trailing",{open:h},()=>[n($,{name:a.trailingIcon||s(q).ui.icons.chevronDown,class:i(r.value.trailingIcon({class:e.ui?.trailingIcon}))},null,8,["name","class"])])],2)]),_:3}),n(s(de),ue(s(o),{"default-open":a.defaultOpen,class:r.value.root({class:[e.ui?.root,e.class]})}),{default:d(({open:h})=>[p("div",{class:i(r.value.container({class:e.ui?.container}))},[l.top?(f(),x("div",{key:0,class:i(r.value.top({class:e.ui?.top}))},[k(c.$slots,"top",{links:a.links})],2)):_("",!0),a.links?.length?(f(),x(D,{key:1},[n(s(re),{class:i(r.value.trigger({class:"lg:hidden"}))},{default:d(()=>[n(s(S),{open:h},null,8,["open"])]),_:2},1032,["class"]),n(s(ce),{class:i(r.value.content({class:[e.ui?.content,"lg:hidden"]}))},{default:d(()=>[a.highlight?(f(),x("div",{key:0,class:i(r.value.indicator({class:e.ui?.indicator})),style:M(L.value)},null,6)):_("",!0),k(c.$slots,"content",{links:a.links},()=>[n(s(b),{links:a.links,level:0},null,8,["links"])])]),_:3},8,["class"]),p("p",{class:i(r.value.trigger({class:"hidden lg:flex"}))},[n(s(S),{open:h},null,8,["open"])],2),p("div",{class:i(r.value.content({class:[e.ui?.content,"hidden lg:flex"]}))},[a.highlight?(f(),x("div",{key:0,class:i(r.value.indicator({class:e.ui?.indicator})),style:M(L.value)},null,6)):_("",!0),k(c.$slots,"content",{links:a.links},()=>[n(s(b),{links:a.links,level:0},null,8,["links"])])],2)],64)):_("",!0),l.bottom?(f(),x("div",{key:2,class:i(r.value.bottom({class:e.ui?.bottom,body:!!l.top||!!a.links?.length}))},[k(c.$slots,"bottom",{links:a.links})],2)):_("",!0)],2)]),_:3},16,["default-open","class"])],64)}}};function X(a,t,e){return!a?.length||!t?[]:a.reduce((m,l)=>(t&&(t+"/").startsWith(l.path+"/")&&((t!==l.path||e?.current||e?.indexAsChild)&&m.push(l),l.children&&m.push(...X(l.children.filter(o=>o.path!==l.path||o.path===t&&e?.current&&e?.indexAsChild),t,e))),m),[])}const We={class:"space-y-6"},Fe={class:"space-y-2"},Qe=ge({__name:"[...slug]",async setup(a){let t,e;const m=pe("navigation",N([])),l=fe(),o=C(()=>l.path.replace(/\/$/,"")),{data:u}=([t,e]=E(()=>O(o.value,()=>ye("filosofia").path(o.value).first(),"$TyKdQFv4X8")),t=await t,e(),t);if(!u.value)throw me({statusCode:404,statusMessage:"Página não encontrada"});const{data:w}=([t,e]=E(()=>O(`${o.value}-surround`,()=>ke("filosofia",o.value,{fields:["title","description"]}))),t=await t,e(),t),q=C(()=>_e(X(m.value,o.value)).map(b=>({label:b.label,...b.to==="/filosofia"?{to:b.to}:{}}))),I=C(()=>m.value.find(v=>v.path==="/filosofia")?.children||[]),P=C(()=>u.value?.title),A=C(()=>u.value?.description);return he({title:P.value,description:A.value,ogTitle:P.value,ogDescription:A.value}),(b,v)=>{const S=we,r=Se,F=Te,z=Ie,L=Pe,B=Be,c=Ue,y=qe,$=Ce,h=He,T=be,g=ve;return s(u)?(f(),U(g,{key:0},{default:d(()=>[n(T,null,{left:d(()=>[n(r,null,{default:d(()=>[n(S,{navigation:s(I),"default-open":"","trailing-icon":"i-lucide-chevron-right",ui:{linkTrailingIcon:"group-data-[state=open]:rotate-90"},highlight:""},null,8,["navigation"])]),_:1})]),default:d(()=>[n(T,null,{right:d(()=>[n(h,{links:s(u).body?.toc?.links,highlight:""},{bottom:d(()=>[s(u).body?.toc?.links?.length?(f(),U(B,{key:0,type:"dashed"})):_("",!0),p("div",We,[p("div",null,[v[3]||(v[3]=p("h4",{class:"text-sm font-semibold text-gray-900 dark:text-white mb-3"}," Ferramentas de Leitura ",-1)),p("div",Fe,[n($,{variant:"ghost",size:"sm",block:"",icon:"i-lucide-bookmark",color:"neutral"},{default:d(()=>v[0]||(v[0]=[H(" Marcar página ",-1)])),_:1,__:[0]}),n($,{variant:"ghost",size:"sm",block:"",icon:"i-lucide-file-text",color:"neutral"},{default:d(()=>v[1]||(v[1]=[H(" Fazer anotações ",-1)])),_:1,__:[1]}),n($,{variant:"ghost",size:"sm",block:"",icon:"i-lucide-highlighter",color:"neutral"},{default:d(()=>v[2]||(v[2]=[H(" Destacar texto ",-1)])),_:1,__:[2]})])])])]),_:1},8,["links"])]),default:d(()=>[n(z,xe($e(s(u))),{headline:d(()=>[n(F,{items:s(q)},null,8,["items"])]),_:1},16),n(y,null,{default:d(()=>[s(u).body?(f(),U(L,{key:0,value:s(u)},null,8,["value"])):_("",!0),n(B,{class:"mt-12"}),n(c,{surround:s(w)},null,8,["surround"])]),_:1})]),_:1})]),_:1})]),_:1})):_("",!0)}}});export{Qe as default};
